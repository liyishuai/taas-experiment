[2023/03/27 18:07:25.108 +08:00] [INFO] [versioninfo.go:90] ["Welcome to Placement Driver (PD)"]
[2023/03/27 18:07:25.109 +08:00] [INFO] [versioninfo.go:91] [PD] [release-version=v7.1.0-alpha-dirty]
[2023/03/27 18:07:25.109 +08:00] [INFO] [versioninfo.go:92] [PD] [edition=Community]
[2023/03/27 18:07:25.109 +08:00] [INFO] [versioninfo.go:93] [PD] [git-hash=8f2c749bf57db76668253775a4220076514e0653]
[2023/03/27 18:07:25.109 +08:00] [INFO] [versioninfo.go:94] [PD] [git-branch=HEAD]
[2023/03/27 18:07:25.109 +08:00] [INFO] [versioninfo.go:95] [PD] [utc-build-time="2023-03-27 09:58:31"]
[2023/03/27 18:07:25.109 +08:00] [INFO] [metricutil.go:83] ["disable Prometheus push client"]
[2023/03/27 18:07:25.109 +08:00] [INFO] [server.go:224] ["PD config"] [config="{\"client-urls\":\"http://127.0.0.1:2379\",\"peer-urls\":\"http://127.0.0.1:2380\",\"advertise-client-urls\":\"http://127.0.0.1:2379\",\"advertise-peer-urls\":\"http://127.0.0.1:2380\",\"name\":\"pd\",\"data-dir\":\"/home/zelu.wjz/taas/TaaS/pd\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd=http://127.0.0.1:2380\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"pd.log\",\"max-size\":0,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null,\"error-output-path\":\"\"},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":0,\"split-merge-interval\":\"1h0m0s\",\"swtich-witness-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"witness-schedule-limit\":4,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"enable-tikv-split-region\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-witness\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"transfer-witness-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7,\"enable-diagnostic\":\"false\",\"enable-witness\":\"false\",\"slow-store-evicting-affected-store-ratio-threshold\":0.3},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"1s\",\"server-memory-limit\":0,\"server-memory-limit-gc-trigger\":0.7,\"enable-gogc-tuner\":\"false\",\"gc-tuner-threshold\":0.6},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":false,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"pause-region-split\":\"false\"}},\"keyspace\":{\"pre-alloc\":null},\"controller\":{\"degraded-mode-wait-duration\":\"0s\",\"request-unit\":{\"read-base-cost\":0.25,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333}}}"]
[2023/03/27 18:07:25.115 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v1]
[2023/03/27 18:07:25.115 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v2/]
[2023/03/27 18:07:25.115 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/swagger/]
[2023/03/27 18:07:25.115 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/autoscaling]
[2023/03/27 18:07:25.115 +08:00] [INFO] [distro.go:51] ["using distribution strings"] [strings={}]
[2023/03/27 18:07:25.117 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/api/]
[2023/03/27 18:07:25.117 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/]
[2023/03/27 18:07:25.117 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd] [service-name=MetaStorage]
[2023/03/27 18:07:25.117 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/resource-manager/api/v1/]
[2023/03/27 18:07:25.117 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd] [service-name=ResourceManager]
[2023/03/27 18:07:25.117 +08:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://127.0.0.1:2380]"]
[2023/03/27 18:07:25.117 +08:00] [INFO] [systimemon.go:30] ["start system time monitor"]
[2023/03/27 18:07:25.117 +08:00] [INFO] [etcd.go:127] ["configuring client listeners"] [listen-client-urls="[http://127.0.0.1:2379]"]
[2023/03/27 18:07:25.117 +08:00] [INFO] [etcd.go:611] ["pprof is enabled"] [path=/debug/pprof]
[2023/03/27 18:07:25.118 +08:00] [INFO] [etcd.go:305] ["starting an etcd server"] [etcd-version=3.4.21] [git-sha="Not provided (use ./build instead of go build)"] [go-version=go1.20.2] [go-os=linux] [go-arch=amd64] [max-cpu-set=32] [max-cpu-available=32] [member-initialized=false] [name=pd] [data-dir=/home/zelu.wjz/taas/TaaS/pd] [wal-dir=] [wal-dir-dedicated=] [member-dir=/home/zelu.wjz/taas/TaaS/pd/member] [force-new-cluster=false] [heartbeat-interval=500ms] [election-timeout=3s] [initial-election-tick-advance=true] [snapshot-count=100000] [snapshot-catchup-entries=5000] [initial-advertise-peer-urls="[http://127.0.0.1:2380]"] [listen-peer-urls="[http://127.0.0.1:2380]"] [advertise-client-urls="[http://127.0.0.1:2379]"] [listen-client-urls="[http://127.0.0.1:2379]"] [listen-metrics-urls="[]"] [cors="[*]"] [host-whitelist="[*]"] [initial-cluster="pd=http://127.0.0.1:2380"] [initial-cluster-state=new] [initial-cluster-token=pd-cluster] [quota-backend-bytes=8589934592] [max-request-bytes=157286400] [max-concurrent-streams=4294967295] [pre-vote=true] [initial-corrupt-check=false] [corrupt-check-time-interval=0s] [auto-compaction-mode=periodic] [auto-compaction-retention=1h0m0s] [auto-compaction-interval=1h0m0s] [discovery-url=] [discovery-proxy=]
[2023/03/27 18:07:25.118 +08:00] [WARN] [server.go:297] ["exceeded recommended request limit"] [max-request-bytes=157286400] [max-request-size="157 MB"] [recommended-request-bytes=10485760] [recommended-request-size="10 MB"]
[2023/03/27 18:07:25.133 +08:00] [INFO] [backend.go:80] ["opened backend db"] [path=/home/zelu.wjz/taas/TaaS/pd/member/snap/db] [took=14.663551ms]
[2023/03/27 18:07:25.149 +08:00] [INFO] [raft.go:536] ["starting local member"] [local-member-id=3037d9ad26fb2231] [cluster-id=d985448f425c49d8]
[2023/03/27 18:07:25.150 +08:00] [INFO] [raft.go:1523] ["3037d9ad26fb2231 switched to configuration voters=()"]
[2023/03/27 18:07:25.150 +08:00] [INFO] [raft.go:706] ["3037d9ad26fb2231 became follower at term 0"]
[2023/03/27 18:07:25.150 +08:00] [INFO] [raft.go:389] ["newRaft 3037d9ad26fb2231 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]"]
[2023/03/27 18:07:25.150 +08:00] [INFO] [raft.go:706] ["3037d9ad26fb2231 became follower at term 1"]
[2023/03/27 18:07:25.150 +08:00] [INFO] [raft.go:1523] ["3037d9ad26fb2231 switched to configuration voters=(3474484975246189105)"]
[2023/03/27 18:07:25.178 +08:00] [WARN] [store.go:1379] ["simple token is not cryptographically signed"]
[2023/03/27 18:07:25.185 +08:00] [INFO] [quota.go:126] ["enabled backend quota"] [quota-name=v3-applier] [quota-size-bytes=8589934592] [quota-size="8.6 GB"]
[2023/03/27 18:07:25.195 +08:00] [INFO] [server.go:816] ["starting etcd server"] [local-member-id=3037d9ad26fb2231] [local-server-version=3.4.21] [cluster-version=to_be_decided]
[2023/03/27 18:07:25.196 +08:00] [INFO] [server.go:682] ["started as single-node; fast-forwarding election ticks"] [local-member-id=3037d9ad26fb2231] [forward-ticks=5] [forward-duration=2.5s] [election-ticks=6] [election-timeout=3s]
[2023/03/27 18:07:25.198 +08:00] [INFO] [etcd.go:585] ["serving peer traffic"] [address=127.0.0.1:2380]
[2023/03/27 18:07:25.198 +08:00] [INFO] [etcd.go:247] ["now serving peer/client/metrics"] [local-member-id=3037d9ad26fb2231] [initial-advertise-peer-urls="[http://127.0.0.1:2380]"] [listen-peer-urls="[http://127.0.0.1:2380]"] [advertise-client-urls="[http://127.0.0.1:2379]"] [listen-client-urls="[http://127.0.0.1:2379]"] [listen-metrics-urls="[]"]
[2023/03/27 18:07:25.198 +08:00] [INFO] [raft.go:1523] ["3037d9ad26fb2231 switched to configuration voters=(3474484975246189105)"]
[2023/03/27 18:07:25.198 +08:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=d985448f425c49d8] [local-member-id=3037d9ad26fb2231] [added-peer-id=3037d9ad26fb2231] [added-peer-peer-urls="[http://127.0.0.1:2380]"]
[2023/03/27 18:07:25.651 +08:00] [INFO] [raft.go:929] ["3037d9ad26fb2231 is starting a new election at term 1"]
[2023/03/27 18:07:25.651 +08:00] [INFO] [raft.go:735] ["3037d9ad26fb2231 became pre-candidate at term 1"]
[2023/03/27 18:07:25.651 +08:00] [INFO] [raft.go:830] ["3037d9ad26fb2231 received MsgPreVoteResp from 3037d9ad26fb2231 at term 1"]
[2023/03/27 18:07:25.651 +08:00] [INFO] [raft.go:719] ["3037d9ad26fb2231 became candidate at term 2"]
[2023/03/27 18:07:25.651 +08:00] [INFO] [raft.go:830] ["3037d9ad26fb2231 received MsgVoteResp from 3037d9ad26fb2231 at term 2"]
[2023/03/27 18:07:25.651 +08:00] [INFO] [raft.go:771] ["3037d9ad26fb2231 became leader at term 2"]
[2023/03/27 18:07:25.651 +08:00] [INFO] [node.go:327] ["raft.node: 3037d9ad26fb2231 elected leader 3037d9ad26fb2231 at term 2"]
[2023/03/27 18:07:25.654 +08:00] [INFO] [server.go:2069] ["published local member to cluster through raft"] [local-member-id=3037d9ad26fb2231] [local-member-attributes="{Name:pd ClientURLs:[http://127.0.0.1:2379]}"] [request-path=/0/members/3037d9ad26fb2231/attributes] [cluster-id=d985448f425c49d8] [publish-timeout=11s]
[2023/03/27 18:07:25.654 +08:00] [INFO] [server.go:2567] ["setting up initial cluster version"] [cluster-version=3.4]
[2023/03/27 18:07:25.654 +08:00] [INFO] [etcdutil.go:267] ["create etcd v3 client"] [endpoints=http://127.0.0.1:2379]
[2023/03/27 18:07:25.654 +08:00] [INFO] [registry.go:69] ["gRPC service already registered"] [prefix=pd] [service-name=MetaStorage]
[2023/03/27 18:07:25.654 +08:00] [INFO] [registry.go:69] ["gRPC service already registered"] [prefix=pd] [service-name=ResourceManager]
[2023/03/27 18:07:25.655 +08:00] [INFO] [serve.go:145] ["serving client traffic insecurely; this is strongly discouraged!"] [address=127.0.0.1:2379]
[2023/03/27 18:07:25.663 +08:00] [INFO] [cluster.go:558] ["set initial cluster version"] [cluster-id=d985448f425c49d8] [local-member-id=3037d9ad26fb2231] [cluster-version=3.4]
[2023/03/27 18:07:25.664 +08:00] [INFO] [capability.go:76] ["enabled capabilities for version"] [cluster-version=3.4]
[2023/03/27 18:07:25.664 +08:00] [INFO] [server.go:2599] ["cluster version is updated"] [cluster-version=3.4]
[2023/03/27 18:07:25.667 +08:00] [INFO] [server.go:374] ["init cluster id"] [cluster-id=7215165577304502839]
[2023/03/27 18:07:25.807 +08:00] [INFO] [allocator_manager.go:304] ["delete the dc-location key previously written in etcd"] [server-id=3474484975246189105]
[2023/03/27 18:07:25.808 +08:00] [INFO] [history_buffer.go:154] ["start from history index"] [start-index=0]
[2023/03/27 18:07:25.892 +08:00] [INFO] [server.go:441] ["triggering the start callback functions"]
[2023/03/27 18:07:25.892 +08:00] [INFO] [manager.go:44] ["meta storage starts to initialize"] [name=pd]
[2023/03/27 18:07:25.892 +08:00] [INFO] [manager.go:82] ["resource group manager starts to initialize"] [name=pd]
[2023/03/27 18:07:25.893 +08:00] [INFO] [server.go:1442] ["start to campaign PD leader"] [campaign-leader-name=pd]
[2023/03/27 18:07:25.916 +08:00] [INFO] [lease.go:66] ["lease granted"] [lease-id=2463899053552819725] [lease-timeout=3] [purpose="leader election"]
[2023/03/27 18:07:25.924 +08:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":15674009460217235928,\"member_id\":3474484975246189105,\"revision\":6,\"raft_term\":2},\"succeeded\":true,\"responses\":[{\"Response\":{\"ResponsePut\":{\"header\":{\"revision\":6}}}}]}"]
[2023/03/27 18:07:25.924 +08:00] [INFO] [leadership.go:131] ["write leaderData to leaderPath ok"] [leaderPath=/pd/7215165577304502839/leader] [purpose="leader election"]
[2023/03/27 18:07:25.924 +08:00] [INFO] [server.go:1468] ["campaign PD leader ok"] [campaign-leader-name=pd]
[2023/03/27 18:07:25.924 +08:00] [INFO] [server.go:1476] ["initializing the global TSO allocator"]
[2023/03/27 18:07:25.924 +08:00] [INFO] [lease.go:137] ["start lease keep alive worker"] [interval=1s] [purpose="leader election"]
[2023/03/27 18:07:25.939 +08:00] [INFO] [tso.go:183] ["sync and save timestamp"] [last=0001/01/01 00:00:00.000 +00:00] [save=2023/03/27 18:07:28.925 +08:00] [next=2023/03/27 18:07:25.925 +08:00]
[2023/03/27 18:07:25.940 +08:00] [INFO] [server.go:1590] ["server enable region storage"]
[2023/03/27 18:07:25.940 +08:00] [INFO] [server.go:1505] ["triggering the leader callback functions"]
[2023/03/27 18:07:25.962 +08:00] [INFO] [manager.go:151] ["resource group manager finishes initialization"]
[2023/03/27 18:07:25.966 +08:00] [INFO] [id.go:174] ["idAllocator allocates a new id"] [new-end=1000] [new-base=0] [label=idalloc] [check-curr-end=true]
[2023/03/27 18:07:25.966 +08:00] [INFO] [util.go:41] ["load cluster version"] [cluster-version=0.0.0]
[2023/03/27 18:07:25.966 +08:00] [INFO] [server.go:1534] ["PD leader is ready to serve"] [leader-name=pd]
[2023/03/27 18:07:26.918 +08:00] [INFO] [server.go:1105] ["PD server config is updated"] [new="{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"http://127.0.0.1:2379\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"1s\",\"server-memory-limit\":0,\"server-memory-limit-gc-trigger\":0.7,\"enable-gogc-tuner\":\"false\",\"gc-tuner-threshold\":0.6}"] [old="{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"1s\",\"server-memory-limit\":0,\"server-memory-limit-gc-trigger\":0.7,\"enable-gogc-tuner\":\"false\",\"gc-tuner-threshold\":0.6}"]
[2023/03/27 18:07:27.896 +08:00] [INFO] [dbstore.go:33] ["Dashboard initializing local storage file"] [path=/home/zelu.wjz/taas/TaaS/pd/dashboard.sqlite.db]
[2023/03/27 18:07:28.524 +08:00] [INFO] [version.go:33] ["TiDB Dashboard started"] [internal-version=6.6.0] [standalone=No] [pd-version=v7.1.0-alpha-dirty] [build-time="2023-03-27 09:58:31"] [build-git-hash=a58fc2a7e924]
[2023/03/27 18:07:28.524 +08:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:60394] [remotes="[]"]
[2023/03/27 18:07:28.524 +08:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:22372] [remotes="[]"]
[2023/03/27 18:07:28.524 +08:00] [INFO] [manager.go:196] ["dashboard server is started"]
[2023/03/27 18:07:28.524 +08:00] [WARN] [dynamic_config_manager.go:164] ["Dynamic config does not exist in etcd"]
[2023/03/27 18:07:28.528 +08:00] [INFO] [dynamic_config_manager.go:188] ["Save dynamic config to etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2023/03/27 18:07:28.866 +08:00] [INFO] [manager.go:74] ["Key visual service is started"]
[2023/03/27 18:09:05.308 +08:00] [WARN] [tso.go:288] ["clock offset"] [jet-lag=314.177559ms] [prev-physical=2023/03/27 18:09:04.993 +08:00] [now=2023/03/27 18:09:05.308 +08:00] [update-physical-interval=50ms]
[2023/03/27 21:29:43.200 +08:00] [INFO] [versioninfo.go:90] ["Welcome to Placement Driver (PD)"]
[2023/03/27 21:29:43.201 +08:00] [INFO] [versioninfo.go:91] [PD] [release-version=v7.1.0-alpha-dirty]
[2023/03/27 21:29:43.201 +08:00] [INFO] [versioninfo.go:92] [PD] [edition=Community]
[2023/03/27 21:29:43.201 +08:00] [INFO] [versioninfo.go:93] [PD] [git-hash=8f2c749bf57db76668253775a4220076514e0653]
[2023/03/27 21:29:43.201 +08:00] [INFO] [versioninfo.go:94] [PD] [git-branch=HEAD]
[2023/03/27 21:29:43.201 +08:00] [INFO] [versioninfo.go:95] [PD] [utc-build-time="2023-03-27 09:58:31"]
[2023/03/27 21:29:43.201 +08:00] [INFO] [metricutil.go:83] ["disable Prometheus push client"]
[2023/03/27 21:29:43.201 +08:00] [INFO] [server.go:224] ["PD config"] [config="{\"client-urls\":\"http://127.0.0.1:2379\",\"peer-urls\":\"http://127.0.0.1:2380\",\"advertise-client-urls\":\"http://127.0.0.1:2379\",\"advertise-peer-urls\":\"http://127.0.0.1:2380\",\"name\":\"pd\",\"data-dir\":\"/home/zelu.wjz/taas/TaaS/pd\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd=http://127.0.0.1:2380\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"pd.log\",\"max-size\":0,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null,\"error-output-path\":\"\"},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":0,\"split-merge-interval\":\"1h0m0s\",\"swtich-witness-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"witness-schedule-limit\":4,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"enable-tikv-split-region\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-witness\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"transfer-witness-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7,\"enable-diagnostic\":\"false\",\"enable-witness\":\"false\",\"slow-store-evicting-affected-store-ratio-threshold\":0.3},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"1s\",\"server-memory-limit\":0,\"server-memory-limit-gc-trigger\":0.7,\"enable-gogc-tuner\":\"false\",\"gc-tuner-threshold\":0.6},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":false,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"pause-region-split\":\"false\"}},\"keyspace\":{\"pre-alloc\":null},\"controller\":{\"degraded-mode-wait-duration\":\"0s\",\"request-unit\":{\"read-base-cost\":0.25,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333}}}"]
[2023/03/27 21:29:43.207 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v1]
[2023/03/27 21:29:43.207 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v2/]
[2023/03/27 21:29:43.207 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/swagger/]
[2023/03/27 21:29:43.208 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/autoscaling]
[2023/03/27 21:29:43.208 +08:00] [INFO] [distro.go:51] ["using distribution strings"] [strings={}]
[2023/03/27 21:29:43.209 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/api/]
[2023/03/27 21:29:43.209 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/]
[2023/03/27 21:29:43.209 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd] [service-name=MetaStorage]
[2023/03/27 21:29:43.209 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/resource-manager/api/v1/]
[2023/03/27 21:29:43.209 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd] [service-name=ResourceManager]
[2023/03/27 21:29:43.209 +08:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://127.0.0.1:2380]"]
[2023/03/27 21:29:43.209 +08:00] [INFO] [systimemon.go:30] ["start system time monitor"]
[2023/03/27 21:29:43.210 +08:00] [INFO] [etcd.go:127] ["configuring client listeners"] [listen-client-urls="[http://127.0.0.1:2379]"]
[2023/03/27 21:29:43.210 +08:00] [INFO] [etcd.go:611] ["pprof is enabled"] [path=/debug/pprof]
[2023/03/27 21:29:43.210 +08:00] [INFO] [etcd.go:305] ["starting an etcd server"] [etcd-version=3.4.21] [git-sha="Not provided (use ./build instead of go build)"] [go-version=go1.20.2] [go-os=linux] [go-arch=amd64] [max-cpu-set=32] [max-cpu-available=32] [member-initialized=true] [name=pd] [data-dir=/home/zelu.wjz/taas/TaaS/pd] [wal-dir=] [wal-dir-dedicated=] [member-dir=/home/zelu.wjz/taas/TaaS/pd/member] [force-new-cluster=false] [heartbeat-interval=500ms] [election-timeout=3s] [initial-election-tick-advance=true] [snapshot-count=100000] [snapshot-catchup-entries=5000] [initial-advertise-peer-urls="[http://127.0.0.1:2380]"] [listen-peer-urls="[http://127.0.0.1:2380]"] [advertise-client-urls="[http://127.0.0.1:2379]"] [listen-client-urls="[http://127.0.0.1:2379]"] [listen-metrics-urls="[]"] [cors="[*]"] [host-whitelist="[*]"] [initial-cluster=] [initial-cluster-state=new] [initial-cluster-token=] [quota-backend-bytes=8589934592] [max-request-bytes=157286400] [max-concurrent-streams=4294967295] [pre-vote=true] [initial-corrupt-check=false] [corrupt-check-time-interval=0s] [auto-compaction-mode=periodic] [auto-compaction-retention=1h0m0s] [auto-compaction-interval=1h0m0s] [discovery-url=] [discovery-proxy=]
[2023/03/27 21:29:43.210 +08:00] [WARN] [server.go:297] ["exceeded recommended request limit"] [max-request-bytes=157286400] [max-request-size="157 MB"] [recommended-request-bytes=10485760] [recommended-request-size="10 MB"]
[2023/03/27 21:29:43.210 +08:00] [INFO] [backend.go:80] ["opened backend db"] [path=/home/zelu.wjz/taas/TaaS/pd/member/snap/db] [took=380.522µs]
[2023/03/27 21:29:43.212 +08:00] [INFO] [raft.go:586] ["restarting local member"] [cluster-id=d985448f425c49d8] [local-member-id=3037d9ad26fb2231] [commit-index=315]
[2023/03/27 21:29:43.212 +08:00] [INFO] [raft.go:1523] ["3037d9ad26fb2231 switched to configuration voters=()"]
[2023/03/27 21:29:43.212 +08:00] [INFO] [raft.go:706] ["3037d9ad26fb2231 became follower at term 2"]
[2023/03/27 21:29:43.212 +08:00] [INFO] [raft.go:389] ["newRaft 3037d9ad26fb2231 [peers: [], term: 2, commit: 315, applied: 0, lastindex: 315, lastterm: 2]"]
[2023/03/27 21:29:43.241 +08:00] [WARN] [store.go:1379] ["simple token is not cryptographically signed"]
[2023/03/27 21:29:43.253 +08:00] [INFO] [quota.go:126] ["enabled backend quota"] [quota-name=v3-applier] [quota-size-bytes=8589934592] [quota-size="8.6 GB"]
[2023/03/27 21:29:43.262 +08:00] [INFO] [server.go:816] ["starting etcd server"] [local-member-id=3037d9ad26fb2231] [local-server-version=3.4.21] [cluster-version=to_be_decided]
[2023/03/27 21:29:43.263 +08:00] [INFO] [server.go:704] ["starting initial election tick advance"] [election-ticks=6]
[2023/03/27 21:29:43.263 +08:00] [INFO] [raft.go:1523] ["3037d9ad26fb2231 switched to configuration voters=(3474484975246189105)"]
[2023/03/27 21:29:43.263 +08:00] [INFO] [cluster.go:392] ["added member"] [cluster-id=d985448f425c49d8] [local-member-id=3037d9ad26fb2231] [added-peer-id=3037d9ad26fb2231] [added-peer-peer-urls="[http://127.0.0.1:2380]"]
[2023/03/27 21:29:43.263 +08:00] [INFO] [cluster.go:558] ["set initial cluster version"] [cluster-id=d985448f425c49d8] [local-member-id=3037d9ad26fb2231] [cluster-version=3.4]
[2023/03/27 21:29:43.263 +08:00] [INFO] [capability.go:76] ["enabled capabilities for version"] [cluster-version=3.4]
[2023/03/27 21:29:43.265 +08:00] [INFO] [etcd.go:585] ["serving peer traffic"] [address=127.0.0.1:2380]
[2023/03/27 21:29:43.265 +08:00] [INFO] [etcd.go:247] ["now serving peer/client/metrics"] [local-member-id=3037d9ad26fb2231] [initial-advertise-peer-urls="[http://127.0.0.1:2380]"] [listen-peer-urls="[http://127.0.0.1:2380]"] [advertise-client-urls="[http://127.0.0.1:2379]"] [listen-client-urls="[http://127.0.0.1:2379]"] [listen-metrics-urls="[]"]
[2023/03/27 21:29:46.713 +08:00] [INFO] [raft.go:929] ["3037d9ad26fb2231 is starting a new election at term 2"]
[2023/03/27 21:29:46.713 +08:00] [INFO] [raft.go:735] ["3037d9ad26fb2231 became pre-candidate at term 2"]
[2023/03/27 21:29:46.713 +08:00] [INFO] [raft.go:830] ["3037d9ad26fb2231 received MsgPreVoteResp from 3037d9ad26fb2231 at term 2"]
[2023/03/27 21:29:46.713 +08:00] [INFO] [raft.go:719] ["3037d9ad26fb2231 became candidate at term 3"]
[2023/03/27 21:29:46.713 +08:00] [INFO] [raft.go:830] ["3037d9ad26fb2231 received MsgVoteResp from 3037d9ad26fb2231 at term 3"]
[2023/03/27 21:29:46.713 +08:00] [INFO] [raft.go:771] ["3037d9ad26fb2231 became leader at term 3"]
[2023/03/27 21:29:46.713 +08:00] [INFO] [node.go:327] ["raft.node: 3037d9ad26fb2231 elected leader 3037d9ad26fb2231 at term 3"]
[2023/03/27 21:29:46.724 +08:00] [INFO] [server.go:2069] ["published local member to cluster through raft"] [local-member-id=3037d9ad26fb2231] [local-member-attributes="{Name:pd ClientURLs:[http://127.0.0.1:2379]}"] [request-path=/0/members/3037d9ad26fb2231/attributes] [cluster-id=d985448f425c49d8] [publish-timeout=11s]
[2023/03/27 21:29:46.725 +08:00] [INFO] [etcdutil.go:267] ["create etcd v3 client"] [endpoints=http://127.0.0.1:2379]
[2023/03/27 21:29:46.725 +08:00] [INFO] [registry.go:69] ["gRPC service already registered"] [prefix=pd] [service-name=MetaStorage]
[2023/03/27 21:29:46.725 +08:00] [INFO] [registry.go:69] ["gRPC service already registered"] [prefix=pd] [service-name=ResourceManager]
[2023/03/27 21:29:46.725 +08:00] [INFO] [serve.go:145] ["serving client traffic insecurely; this is strongly discouraged!"] [address=127.0.0.1:2379]
[2023/03/27 21:29:46.727 +08:00] [INFO] [server.go:374] ["init cluster id"] [cluster-id=7215165577304502839]
[2023/03/27 21:29:46.793 +08:00] [INFO] [allocator_manager.go:304] ["delete the dc-location key previously written in etcd"] [server-id=3474484975246189105]
[2023/03/27 21:29:46.794 +08:00] [INFO] [history_buffer.go:154] ["start from history index"] [start-index=0]
[2023/03/27 21:29:46.831 +08:00] [INFO] [server.go:441] ["triggering the start callback functions"]
[2023/03/27 21:29:46.831 +08:00] [INFO] [manager.go:44] ["meta storage starts to initialize"] [name=pd]
[2023/03/27 21:29:46.831 +08:00] [INFO] [manager.go:82] ["resource group manager starts to initialize"] [name=pd]
[2023/03/27 21:29:46.832 +08:00] [WARN] [member.go:216] ["the pd leader has not changed, delete and campaign again"] [old-pd-leader="name:\"pd\" member_id:3474484975246189105 peer_urls:\"http://127.0.0.1:2380\" client_urls:\"http://127.0.0.1:2379\" "]
[2023/03/27 21:29:46.837 +08:00] [INFO] [leadership.go:171] ["delete the leader key ok"] [leaderPath=/pd/7215165577304502839/leader] [purpose="leader election"]
[2023/03/27 21:29:46.837 +08:00] [INFO] [server.go:1442] ["start to campaign PD leader"] [campaign-leader-name=pd]
[2023/03/27 21:29:46.838 +08:00] [INFO] [lease.go:66] ["lease granted"] [lease-id=2463899056660163596] [lease-timeout=3] [purpose="leader election"]
[2023/03/27 21:29:46.840 +08:00] [INFO] [leadership.go:122] ["check campaign resp"] [resp="{\"header\":{\"cluster_id\":15674009460217235928,\"member_id\":3474484975246189105,\"revision\":315,\"raft_term\":3},\"succeeded\":true,\"responses\":[{\"Response\":{\"ResponsePut\":{\"header\":{\"revision\":315}}}}]}"]
[2023/03/27 21:29:46.841 +08:00] [INFO] [leadership.go:131] ["write leaderData to leaderPath ok"] [leaderPath=/pd/7215165577304502839/leader] [purpose="leader election"]
[2023/03/27 21:29:46.841 +08:00] [INFO] [server.go:1468] ["campaign PD leader ok"] [campaign-leader-name=pd]
[2023/03/27 21:29:46.841 +08:00] [INFO] [server.go:1476] ["initializing the global TSO allocator"]
[2023/03/27 21:29:46.841 +08:00] [INFO] [lease.go:137] ["start lease keep alive worker"] [interval=1s] [purpose="leader election"]
[2023/03/27 21:29:46.844 +08:00] [INFO] [tso.go:183] ["sync and save timestamp"] [last=2023/03/27 18:21:37.993 +08:00] [save=2023/03/27 21:29:49.841 +08:00] [next=2023/03/27 21:29:46.841 +08:00]
[2023/03/27 21:29:46.845 +08:00] [INFO] [server.go:1590] ["server enable region storage"]
[2023/03/27 21:29:46.846 +08:00] [INFO] [server.go:1505] ["triggering the leader callback functions"]
[2023/03/27 21:29:46.848 +08:00] [WARN] [manager.go:143] ["init default group failed"] [error="[PD:resourcemanager:ErrResourceGroupAlreadyExists]the default resource group already exists"]
[2023/03/27 21:29:46.848 +08:00] [INFO] [manager.go:151] ["resource group manager finishes initialization"]
[2023/03/27 21:29:46.868 +08:00] [INFO] [id.go:174] ["idAllocator allocates a new id"] [new-end=2000] [new-base=1000] [label=idalloc] [check-curr-end=true]
[2023/03/27 21:29:46.868 +08:00] [INFO] [util.go:41] ["load cluster version"] [cluster-version=0.0.0]
[2023/03/27 21:29:46.868 +08:00] [INFO] [server.go:1534] ["PD leader is ready to serve"] [leader-name=pd]
[2023/03/27 21:29:47.835 +08:00] [INFO] [dbstore.go:33] ["Dashboard initializing local storage file"] [path=/home/zelu.wjz/taas/TaaS/pd/dashboard.sqlite.db]
[2023/03/27 21:29:47.843 +08:00] [INFO] [version.go:33] ["TiDB Dashboard started"] [internal-version=6.6.0] [standalone=No] [pd-version=v7.1.0-alpha-dirty] [build-time="2023-03-27 09:58:31"] [build-git-hash=a58fc2a7e924]
[2023/03/27 21:29:47.843 +08:00] [INFO] [manager.go:196] ["dashboard server is started"]
[2023/03/27 21:29:47.843 +08:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:21702] [remotes="[]"]
[2023/03/27 21:29:47.843 +08:00] [INFO] [proxy.go:211] ["start serve requests to remotes"] [endpoint=127.0.0.1:21320] [remotes="[]"]
[2023/03/27 21:29:47.843 +08:00] [INFO] [dynamic_config_manager.go:167] ["Load dynamic config from etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2023/03/27 21:29:47.852 +08:00] [INFO] [dynamic_config_manager.go:188] ["Save dynamic config to etcd"] [json="{\"keyvisual\":{\"auto_collection_disabled\":false,\"policy\":\"db\",\"policy_kv_separator\":\"\"},\"profiling\":{\"auto_collection_targets\":null,\"auto_collection_duration_secs\":0,\"auto_collection_interval_secs\":0},\"sso\":{\"core_config\":{\"enabled\":false,\"client_id\":\"\",\"discovery_url\":\"\",\"is_read_only\":false},\"auth_url\":\"\",\"token_url\":\"\",\"user_info_url\":\"\",\"sign_out_url\":\"\"}}"]
[2023/03/27 21:29:48.224 +08:00] [INFO] [manager.go:74] ["Key visual service is started"]
