[2023/03/28 02:03:07.298 +08:00] [INFO] [versioninfo.go:90] ["Welcome to Placement Driver (PD)"]
[2023/03/28 02:03:07.298 +08:00] [INFO] [versioninfo.go:91] [PD] [release-version=v7.1.0-alpha-1-g198ab8a-dirty]
[2023/03/28 02:03:07.298 +08:00] [INFO] [versioninfo.go:92] [PD] [edition=Community]
[2023/03/28 02:03:07.298 +08:00] [INFO] [versioninfo.go:93] [PD] [git-hash=198ab8a8852bc4e60dc089a73270b52242f766ca]
[2023/03/28 02:03:07.298 +08:00] [INFO] [versioninfo.go:94] [PD] [git-branch=HEAD]
[2023/03/28 02:03:07.298 +08:00] [INFO] [versioninfo.go:95] [PD] [utc-build-time="2023-03-27 06:01:47"]
[2023/03/28 02:03:07.298 +08:00] [INFO] [metricutil.go:83] ["disable Prometheus push client"]
[2023/03/28 02:03:07.298 +08:00] [INFO] [server.go:224] ["PD config"] [config="{\"client-urls\":\"http://127.0.0.1:2379\",\"peer-urls\":\"http://127.0.0.1:2380\",\"advertise-client-urls\":\"http://127.0.0.1:2379\",\"advertise-peer-urls\":\"http://127.0.0.1:2380\",\"name\":\"pd\",\"data-dir\":\"/home/zelu.wjz/taas/TaaS/bin/pd\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd=http://127.0.0.1:2380\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"pd.log\",\"max-size\":0,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null,\"error-output-path\":\"\"},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":0,\"split-merge-interval\":\"1h0m0s\",\"swtich-witness-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"witness-schedule-limit\":4,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"enable-tikv-split-region\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-witness\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"transfer-witness-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7,\"enable-diagnostic\":\"false\",\"enable-witness\":\"false\",\"slow-store-evicting-affected-store-ratio-threshold\":0.3},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"1s\",\"server-memory-limit\":0,\"server-memory-limit-gc-trigger\":0.7,\"enable-gogc-tuner\":\"false\",\"gc-tuner-threshold\":0.6},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":false,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"pause-region-split\":\"false\"}},\"keyspace\":{\"pre-alloc\":null},\"controller\":{\"degraded-mode-wait-duration\":\"0s\",\"request-unit\":{\"read-base-cost\":0.25,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333}}}"]
[2023/03/28 02:03:07.304 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v1]
[2023/03/28 02:03:07.304 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v2/]
[2023/03/28 02:03:07.304 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/swagger/]
[2023/03/28 02:03:07.304 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/autoscaling]
[2023/03/28 02:03:07.305 +08:00] [INFO] [distro.go:51] ["using distribution strings"] [strings={}]
[2023/03/28 02:03:07.306 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/api/]
[2023/03/28 02:03:07.306 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/]
[2023/03/28 02:03:07.306 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd] [service-name=MetaStorage]
[2023/03/28 02:03:07.306 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/resource-manager/api/v1/]
[2023/03/28 02:03:07.306 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd] [service-name=ResourceManager]
[2023/03/28 02:03:07.306 +08:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://127.0.0.1:2380]"]
[2023/03/28 02:03:07.306 +08:00] [INFO] [systimemon.go:30] ["start system time monitor"]
[2023/03/28 02:03:07.307 +08:00] [INFO] [etcd.go:369] ["closing etcd server"] [name=pd] [data-dir=/home/zelu.wjz/taas/TaaS/bin/pd] [advertise-peer-urls="[http://127.0.0.1:2380]"] [advertise-client-urls="[http://127.0.0.1:2379]"]
[2023/03/28 02:03:07.307 +08:00] [INFO] [etcd.go:373] ["closed etcd server"] [name=pd] [data-dir=/home/zelu.wjz/taas/TaaS/bin/pd] [advertise-peer-urls="[http://127.0.0.1:2380]"] [advertise-client-urls="[http://127.0.0.1:2379]"]
[2023/03/28 02:03:07.307 +08:00] [FATAL] [main.go:232] ["run server failed"] [error="[PD:etcd:ErrStartEtcd]listen tcp 127.0.0.1:2380: bind: address already in use: listen tcp 127.0.0.1:2380: bind: address already in use"] [stack="main.start\n\t/home/zelu.wjz/taas/TaaS/cmd/pd-server/main.go:232\nmain.createServerWrapper\n\t/home/zelu.wjz/taas/TaaS/cmd/pd-server/main.go:147\ngithub.com/spf13/cobra.(*Command).execute\n\t/home/zelu.wjz/go/pkg/mod/github.com/spf13/cobra@v1.0.0/command.go:846\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/home/zelu.wjz/go/pkg/mod/github.com/spf13/cobra@v1.0.0/command.go:950\ngithub.com/spf13/cobra.(*Command).Execute\n\t/home/zelu.wjz/go/pkg/mod/github.com/spf13/cobra@v1.0.0/command.go:887\nmain.main\n\t/home/zelu.wjz/taas/TaaS/cmd/pd-server/main.go:56\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:250"]
[2023/03/28 02:03:20.027 +08:00] [INFO] [versioninfo.go:90] ["Welcome to Placement Driver (PD)"]
[2023/03/28 02:03:20.027 +08:00] [INFO] [versioninfo.go:91] [PD] [release-version=v7.1.0-alpha-1-g198ab8a-dirty]
[2023/03/28 02:03:20.027 +08:00] [INFO] [versioninfo.go:92] [PD] [edition=Community]
[2023/03/28 02:03:20.027 +08:00] [INFO] [versioninfo.go:93] [PD] [git-hash=198ab8a8852bc4e60dc089a73270b52242f766ca]
[2023/03/28 02:03:20.027 +08:00] [INFO] [versioninfo.go:94] [PD] [git-branch=HEAD]
[2023/03/28 02:03:20.027 +08:00] [INFO] [versioninfo.go:95] [PD] [utc-build-time="2023-03-27 06:01:47"]
[2023/03/28 02:03:20.027 +08:00] [INFO] [metricutil.go:83] ["disable Prometheus push client"]
[2023/03/28 02:03:20.027 +08:00] [INFO] [server.go:224] ["PD config"] [config="{\"client-urls\":\"http://127.0.0.1:2379\",\"peer-urls\":\"http://127.0.0.1:2380\",\"advertise-client-urls\":\"http://127.0.0.1:2379\",\"advertise-peer-urls\":\"http://127.0.0.1:2380\",\"name\":\"pd\",\"data-dir\":\"/home/zelu.wjz/taas/TaaS/bin/pd\",\"force-new-cluster\":false,\"enable-grpc-gateway\":true,\"initial-cluster\":\"pd=http://127.0.0.1:2380\",\"initial-cluster-state\":\"new\",\"initial-cluster-token\":\"pd-cluster\",\"join\":\"\",\"lease\":3,\"log\":{\"level\":\"info\",\"format\":\"text\",\"disable-timestamp\":false,\"file\":{\"filename\":\"pd.log\",\"max-size\":0,\"max-days\":0,\"max-backups\":0},\"development\":false,\"disable-caller\":false,\"disable-stacktrace\":false,\"disable-error-verbose\":true,\"sampling\":null,\"error-output-path\":\"\"},\"tso-save-interval\":\"3s\",\"tso-update-physical-interval\":\"50ms\",\"enable-local-tso\":false,\"metric\":{\"job\":\"pd\",\"address\":\"\",\"interval\":\"15s\"},\"schedule\":{\"max-snapshot-count\":64,\"max-pending-peer-count\":64,\"max-merge-region-size\":20,\"max-merge-region-keys\":0,\"split-merge-interval\":\"1h0m0s\",\"swtich-witness-interval\":\"1h0m0s\",\"enable-one-way-merge\":\"false\",\"enable-cross-table-merge\":\"true\",\"patrol-region-interval\":\"10ms\",\"max-store-down-time\":\"30m0s\",\"max-store-preparing-time\":\"48h0m0s\",\"leader-schedule-limit\":4,\"leader-schedule-policy\":\"count\",\"region-schedule-limit\":2048,\"witness-schedule-limit\":4,\"replica-schedule-limit\":64,\"merge-schedule-limit\":8,\"hot-region-schedule-limit\":4,\"hot-region-cache-hits-threshold\":3,\"store-limit\":{},\"tolerant-size-ratio\":0,\"low-space-ratio\":0.8,\"high-space-ratio\":0.7,\"region-score-formula-version\":\"v2\",\"scheduler-max-waiting-operator\":5,\"enable-remove-down-replica\":\"true\",\"enable-replace-offline-replica\":\"true\",\"enable-make-up-replica\":\"true\",\"enable-remove-extra-replica\":\"true\",\"enable-location-replacement\":\"true\",\"enable-debug-metrics\":\"false\",\"enable-joint-consensus\":\"true\",\"enable-tikv-split-region\":\"true\",\"schedulers-v2\":[{\"type\":\"balance-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"balance-witness\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"hot-region\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"split-bucket\",\"args\":null,\"disable\":false,\"args-payload\":\"\"},{\"type\":\"transfer-witness-leader\",\"args\":null,\"disable\":false,\"args-payload\":\"\"}],\"schedulers-payload\":null,\"store-limit-mode\":\"manual\",\"hot-regions-write-interval\":\"10m0s\",\"hot-regions-reserved-days\":7,\"enable-diagnostic\":\"false\",\"enable-witness\":\"false\",\"slow-store-evicting-affected-store-ratio-threshold\":0.3},\"replication\":{\"max-replicas\":3,\"location-labels\":\"\",\"strictly-match-label\":\"false\",\"enable-placement-rules\":\"true\",\"enable-placement-rules-cache\":\"false\",\"isolation-level\":\"\"},\"pd-server\":{\"use-region-storage\":\"true\",\"max-gap-reset-ts\":\"24h0m0s\",\"key-type\":\"table\",\"runtime-services\":\"\",\"metric-storage\":\"\",\"dashboard-address\":\"auto\",\"trace-region-flow\":\"true\",\"flow-round-by-digit\":3,\"min-resolved-ts-persistence-interval\":\"1s\",\"server-memory-limit\":0,\"server-memory-limit-gc-trigger\":0.7,\"enable-gogc-tuner\":\"false\",\"gc-tuner-threshold\":0.6},\"cluster-version\":\"0.0.0\",\"labels\":{},\"quota-backend-bytes\":\"8GiB\",\"auto-compaction-mode\":\"periodic\",\"auto-compaction-retention-v2\":\"1h\",\"TickInterval\":\"500ms\",\"ElectionInterval\":\"3s\",\"PreVote\":true,\"max-request-bytes\":157286400,\"security\":{\"cacert-path\":\"\",\"cert-path\":\"\",\"key-path\":\"\",\"cert-allowed-cn\":null,\"SSLCABytes\":null,\"SSLCertBytes\":null,\"SSLKEYBytes\":null,\"redact-info-log\":false,\"encryption\":{\"data-encryption-method\":\"plaintext\",\"data-key-rotation-period\":\"168h0m0s\",\"master-key\":{\"type\":\"plaintext\",\"key-id\":\"\",\"region\":\"\",\"endpoint\":\"\",\"path\":\"\"}}},\"label-property\":null,\"WarningMsgs\":null,\"DisableStrictReconfigCheck\":false,\"HeartbeatStreamBindInterval\":\"1m0s\",\"LeaderPriorityCheckInterval\":\"1m0s\",\"dashboard\":{\"tidb-cacert-path\":\"\",\"tidb-cert-path\":\"\",\"tidb-key-path\":\"\",\"public-path-prefix\":\"\",\"internal-proxy\":false,\"enable-telemetry\":false,\"enable-experimental\":false},\"replication-mode\":{\"replication-mode\":\"majority\",\"dr-auto-sync\":{\"label-key\":\"\",\"primary\":\"\",\"dr\":\"\",\"primary-replicas\":0,\"dr-replicas\":0,\"wait-store-timeout\":\"1m0s\",\"pause-region-split\":\"false\"}},\"keyspace\":{\"pre-alloc\":null},\"controller\":{\"degraded-mode-wait-duration\":\"0s\",\"request-unit\":{\"read-base-cost\":0.25,\"read-cost-per-byte\":0.0000152587890625,\"write-base-cost\":1,\"write-cost-per-byte\":0.0009765625,\"read-cpu-ms-cost\":0.3333333333333333}}}"]
[2023/03/28 02:03:20.034 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v1]
[2023/03/28 02:03:20.034 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/pd/api/v2/]
[2023/03/28 02:03:20.034 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/swagger/]
[2023/03/28 02:03:20.034 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/autoscaling]
[2023/03/28 02:03:20.034 +08:00] [INFO] [distro.go:51] ["using distribution strings"] [strings={}]
[2023/03/28 02:03:20.036 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/api/]
[2023/03/28 02:03:20.036 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/dashboard/]
[2023/03/28 02:03:20.036 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd] [service-name=MetaStorage]
[2023/03/28 02:03:20.036 +08:00] [INFO] [apiutil.go:378] ["register REST path"] [path=/resource-manager/api/v1/]
[2023/03/28 02:03:20.036 +08:00] [INFO] [registry.go:92] ["restful API service registered successfully"] [prefix=pd] [service-name=ResourceManager]
[2023/03/28 02:03:20.036 +08:00] [INFO] [etcd.go:117] ["configuring peer listeners"] [listen-peer-urls="[http://127.0.0.1:2380]"]
[2023/03/28 02:03:20.036 +08:00] [INFO] [systimemon.go:30] ["start system time monitor"]
[2023/03/28 02:03:20.036 +08:00] [INFO] [etcd.go:369] ["closing etcd server"] [name=pd] [data-dir=/home/zelu.wjz/taas/TaaS/bin/pd] [advertise-peer-urls="[http://127.0.0.1:2380]"] [advertise-client-urls="[http://127.0.0.1:2379]"]
[2023/03/28 02:03:20.036 +08:00] [INFO] [etcd.go:373] ["closed etcd server"] [name=pd] [data-dir=/home/zelu.wjz/taas/TaaS/bin/pd] [advertise-peer-urls="[http://127.0.0.1:2380]"] [advertise-client-urls="[http://127.0.0.1:2379]"]
[2023/03/28 02:03:20.036 +08:00] [FATAL] [main.go:232] ["run server failed"] [error="[PD:etcd:ErrStartEtcd]listen tcp 127.0.0.1:2380: bind: address already in use: listen tcp 127.0.0.1:2380: bind: address already in use"] [stack="main.start\n\t/home/zelu.wjz/taas/TaaS/cmd/pd-server/main.go:232\nmain.createServerWrapper\n\t/home/zelu.wjz/taas/TaaS/cmd/pd-server/main.go:147\ngithub.com/spf13/cobra.(*Command).execute\n\t/home/zelu.wjz/go/pkg/mod/github.com/spf13/cobra@v1.0.0/command.go:846\ngithub.com/spf13/cobra.(*Command).ExecuteC\n\t/home/zelu.wjz/go/pkg/mod/github.com/spf13/cobra@v1.0.0/command.go:950\ngithub.com/spf13/cobra.(*Command).Execute\n\t/home/zelu.wjz/go/pkg/mod/github.com/spf13/cobra@v1.0.0/command.go:887\nmain.main\n\t/home/zelu.wjz/taas/TaaS/cmd/pd-server/main.go:56\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:250"]
